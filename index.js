const { app, BrowserWindow, Menu, globalShortcut, clipboard } = require("electron");
const { exec } = require("child_process");
const emoji = require("emojilib");
app.dock.hide();
app.on("ready", () => {
  new BrowserWindow({ show: false });
  const menu = Menu.buildFromTemplate(mappings.map(([from, to]) => ({ label: `${from} Â· ${to}`, click() {
    clipboard.writeText(to);
    exec(`osascript -e 'tell application "System Events" to keystroke "v" using command down'`);
  }})));
  globalShortcut.register("Control+Option+Command+Space", () => { menu.popup(); });
});

const mappings = [
  ["uparrow", "â†‘"],
  ["Uparrow", "â‡‘"],
  ["nearrow", "â†—"],
  ["rightarrow", "â†’"],
  ["->", "â†’"],
  ["Rightarrow", "â‡’"],
  ["=>", "â‡’"],
  ["mapsto", "â†¦"],
  ["|->", "â†¦"],
  ["leadsto", "â†"],
  ["~>", "â†"],
  ["searrow", "â†˜"],
  ["downarrow", "â†“"],
  ["Downarrow", "â‡“"],
  ["swarrow", "â†™"],
  ["leftarrow", "â†"],
  ["<-", "â†"],
  ["<=", "â‡"],
  ["reversemapsto", "â†¤"],
  ["<-|", "â†¤"],
  ["nwarrow", "â†–"],
  ["updownarrow", "â†•"],
  ["Updownarrow", "â‡•"],
  ["leftrightarrow", "â†”"],
  ["Leftrightarrow", "â‡”"],
  ["doublerightarrow", "â‡‰"],
  ["doubleleftarrow", "â‡‡"],

  ["alpha", "Î±"],
  ["beta", "Î²"],
  ["gamma", "Î³"],
  ["Gamma", "Î“"],
  ["delta", "Î´"],
  ["Delta", "Î”"],
  ["epsilon", "Ïµ"],
  ["varepsilon", "Îµ"],
  ["zeta", "Î¶"],
  ["eta", "Î·"],
  ["theta", "Î¸"],
  ["vartheta", "Ï‘"],
  ["Theta", "Î˜"],
  ["iota", "Î¹"],
  ["kappa", "Îº"],
  ["Kappa", "Îš"],
  ["lambda", "Î»"],
  ["Lambda", "Î›"],
  ["mu", "Î¼"],
  ["nu", "Î½"],
  ["xi", "Î¾"],
  ["Xi", "Î"],
  ["pi", "Ï€"],
  ["varpi", "Ï–"],
  ["Pi", "Î "],
  ["rho", "Ï"],
  ["varrho", "Ï±"],
  ["sigma", "Ïƒ"],
  ["varsigma", "Ï‚"],
  ["Sigma", "Î£"],
  ["tau", "Ï„"],
  ["upsilon", "Ï…"],
  ["Upsilon", "Î¥"],
  ["phi", "Ï†"],
  ["varphi", "Ï•"],
  ["Phi", "Î¦"],
  ["chi", "Ï‡"],
  ["psi", "Ïˆ"],
  ["Psi", "Î¨"],
  ["omega", "Ï‰"],
  ["Omega", "Î©"],

  ["Command", "âŒ˜"],
  ["Option", "âŒ¥"],
  ["Shift", "â‡§"],
  ["Control", "âŒƒ"],
  ["Escape", "â‹"],
  ["Backspace", "âŒ«"],
  ["Delete", "âŒ¦"],
  ["Eject", "â"],
  ["Caps Lock", "â‡ª"],
  ["Tab", "â‡¥"],
  ["Return", "â†©"],
  ["Enter", "âŒ¤"],
  ["Home", "â†–"],
  ["End", "â†˜"],
  ["Page Up", "â‡"],
  ["Page Down", "â‡Ÿ"],

  ["aleph", "×"],
  ["'", "â€²"],
  ["prime", "â€²"],
  ["Prime", "â€³"],
  ["emptyset", "âˆ…"],
  ["nabla", "âˆ‡"],
  ["surd", "âˆš"],
  ["neg", "Â¬"],
  ["triangleup", "â–³"],
  ["forall", "âˆ€"],
  ["exists", "âˆƒ"],
  ["infty", "âˆ"],
  ["infinity", "âˆ"],
  ["circ", "âˆ˜"],
  ["+-", "Â±"],
  ["pm", "Â±"],
  ["cap", "âˆ©"],
  ["diamond", "â—‡"],
  ["oplus", "âŠ•"],
  ["-+", "âˆ“"],
  ["mp", "âˆ“"],
  ["cup", "âˆª"],
  ["triangleup", "â–³"],
  ["bigtriangleup", "â–³"],
  ["ominus", "âŠ–"],
  ["times", "Ã—"],
  ["uplus", "âŠ"],
  ["triangledown", "â–½"],
  ["bigtriangledown", "â–½"],
  ["otimes", "âŠ—"],
  ["div", "Ã·"],
  ["sqcap", "âŠ“"],
  ["triangleright", "â–¹"],
  ["oslash", "âŠ˜"],
  ["ast", "âˆ—"],
  ["sqcup", "âŠ”"],
  ["vee", "âˆ¨"],
  ["lor", "âˆ¨"],
  ["wedge", "âˆ§"],
  ["land", "âˆ§"],
  ["triangleleft", "â—ƒ"],
  ["odot", "âŠ™"],
  ["wr", "â‰€"],
  ["amalg", "â¨¿"],
  ["leq", "â‰¤"],
  ["geq", "â‰¥"],
  ["equiv", "â‰¡"],
  ["|=", "âŠ¨"],
  ["models", "âŠ¨"],
  ["prec", "â‰º"],
  ["succ", "â‰»"],
  ["precdot", "â‹–"],
  ["succdot", "â‹—"],
  ["sim", "âˆ¼"],
  ["perp", "âŠ¥"],
  ["bot", "âŠ¥"],
  ["top", "âŠ¤"],
  ["preceq", "â‰¼"],
  ["succeq", "â‰½"],
  ["simeq", "â‰ƒ"],
  ["ll", "â‰ª"],
  ["gg", "â‰«"],
  ["asymp", "â‰"],
  ["||", "âˆ¥"],
  ["parallel", "âˆ¥"],
  ["subset", "âŠ‚"],
  ["supset", "âŠƒ"],
  ["approx", "â‰ˆ"],
  ["bowtie", "â‹ˆ"],
  ["halfbowtieleft", "â‹‰"],
  ["halfbowtieright", "â‹Š"],
  ["subseteq", "âŠ†"],
  ["supseteq", "âŠ‡"],
  ["cong", "â‰…"],
  ["reversecong", "â‰Œ"],
  ["sqsubsetb", "âŠ"],
  ["sqsupsetb", "âŠ"],
  ["neq", "â‰ "],
  ["smile", "âŒ£"],
  ["sqsubseteq", "âŠ‘"],
  ["sqsupseteq", "âŠ’"],
  ["doteq", "â‰"],
  ["frown", "âŒ¢"],
  ["in", "âˆˆ"],
  ["ni", "âˆ‹"],
  ["notin", "âˆ‰"],
  ["propto", "âˆ"],
  ["vdash", "âŠ¢"],
  ["dashv", "âŠ£"],
  [".", "Â·"],
  ["cdot", "Â·"],
  ["sum", "âˆ‘"],
  ["prod", "âˆ"],
  ["coprod", "âˆ"],
  ["int", "âˆ«"],
  ["oint", "âˆ®"],
  ["sqrt", "âˆš"],
  ["l", "Å‚"],
  ["(|", "â—–"],
  ["|)", "â——"],
  ["semicircleleft", "â—–"],
  ["semicircleright", "â——"],
  ["$`", "â‰"],
  ["nottilde", "â‰"],
  ["ell", "â„“"],
  ["N", "â„•"],
  ["R", "â„"],
  ["Z", "â„¤"],
  ["P", "â„™"],
  ["{", "âŒˆ"],
  ["leftceiling", "âŒˆ"],
  ["}", "âŒ‰"],
  ["rightceiling", "âŒ‰"],
  ["[", "âŒŠ"],
  ["leftfloor", "âŒŠ"],
  ["]", "âŒ‹"],
  ["rightfloor", "âŒ‹"],
  ["minus", "âˆ’"],
  ["endofproof", "âˆ"],
  ["space", "â£"],
  ["therefore", "âˆ´"],
  ["because", "âˆµ"],
  ["brokenbar", "Â¦"],
  ["ring", "âˆ˜"],

  ["star", "â˜…"],
  ["bullet", "â€¢"],
  ["whitebullet", "â—¦"],
  ["triangularbullet", "â€£"],
  ["pointing", "â˜"],
  ["dagger", "â€ "],
  ["ddagger", "â€¡"],
  ["vdots", "â‹®"],
  ["ddots", "â‹±"],
  ["cdots", "â‹¯"],
  ["hdots", "â‹¯"],
  ["langle", "âŸ¨"],
  ["rangle", "âŸ©"],
  ["ballotbox", "â˜"],
  ["ballotcheck", "â˜‘"],
  ["ballotmark", "â˜’"],
  ["check", "âœ“"],
  ["mark", "âœ—"],
  ["heavycheck", "âœ”"],
  ["heavymark", "âœ˜"],
  ["S", "Â§"],
  ["section", "Â§"],
  ["paragraph", "Â¶"],
  ["P", "Â¶"],
  ["reference", "â€»"],
  ["hyphen", "â€"],
  ["nonbreakinghyphen", "â€‘"],
  ["endash", "â€“"],
  ["emdash", "â€”"],
  ["softhyphen", "Â­"],
  ["hyphenationpoint", "â€§"],
  ["nobreakspace", " "],
  ["enspace", "â€‚"],
  ["emspace", "â€ƒ"],
  ["mediumspace", "âŸ"],
  ["figurespace", "â€‡"],
  ["thinspace", "â€‰"],
  ["hairspace", "â€Š"],
  ["zerowidthspace", "â€‹"],
  ["zerowidthnonjoiner", "â€Œ"],
  ["zerowidthjoiner", "â€"],
  ["wordjoiner", "â "],
  ["ditto", "ã€ƒ"],
  ["typographyheart", "â¤"],
  ["palm", "â¸™"],
  ["floral", "â¦"],
  ["rotatedfloral", "â§"],

  ["^0", "â°"],
  ["^1", "Â¹"],
  ["^2", "Â²"],
  ["^3", "Â³"],
  ["^4", "â´"],
  ["^5", "âµ"],
  ["^6", "â¶"],
  ["^7", "â·"],
  ["^8", "â¸"],
  ["^9", "â¹"],
  ["^+", "âº"],
  ["^-", "â»"],
  ["^=", "â¼"],
  ["^(", "â½"],
  ["^)", "â¾"],
  ["^a", "áµƒ"],
  ["^b", "áµ‡"],
  ["^c", "á¶œ"],
  ["^d", "áµˆ"],
  ["^e", "áµ‰"],
  ["^f", "á¶ "],
  ["^g", "áµ"],
  ["^h", "Ê°"],
  ["^i", "â±"],
  ["^j", "Ê²"],
  ["^k", "áµ"],
  ["^l", "Ë¡"],
  ["^m", "áµ"],
  ["^n", "â¿"],
  ["^o", "áµ’"],
  ["^p", "áµ–"],
  ["^r", "Ê³"],
  ["^s", "Ë¢"],
  ["^t", "áµ—"],
  ["^u", "áµ˜"],
  ["^v", "áµ›"],
  ["^w", "Ê·"],
  ["^x", "Ë£"],
  ["^y", "Ê¸"],
  ["^z", "á¶»"],
  ["^A", "á´¬"],
  ["^B", "á´®"],
  ["^D", "á´°"],
  ["^E", "á´±"],
  ["^G", "á´³"],
  ["^H", "á´´"],
  ["^I", "á´µ"],
  ["^J", "á´¶"],
  ["^K", "á´·"],
  ["^L", "á´¸"],
  ["^M", "á´¹"],
  ["^N", "á´º"],
  ["^O", "á´¼"],
  ["^P", "á´¾"],
  ["^R", "á´¿"],
  ["^T", "áµ€"],
  ["^U", "áµ"],
  ["^V", "â±½"],
  ["^W", "áµ‚"],
  ["^alpha", "áµ…"],
  ["^beta", "áµ"],
  ["^gamma", "áµ"],
  ["^delta", "áµŸ"],
  ["^theta", "á¶¿"],
  ["^iota", "á¶¥"],
  ["^phi", "áµ "],
  ["^xi", "áµ¡"],

  ["_0", "â‚€"],
  ["_1", "â‚"],
  ["_2", "â‚‚"],
  ["_3", "â‚ƒ"],
  ["_4", "â‚„"],
  ["_5", "â‚…"],
  ["_6", "â‚†"],
  ["_7", "â‚‡"],
  ["_8", "â‚ˆ"],
  ["_9", "â‚‰"],
  ["_+", "â‚Š"],
  ["_-", "â‚‹"],
  ["_=", "â‚Œ"],
  ["_(", "â‚"],
  ["_)", "â‚"],
  ["_a", "â‚"],
  ["_e", "â‚‘"],
  ["_h", "â‚•"],
  ["_i", "áµ¢"],
  ["_j", "â±¼"],
  ["_k", "â‚–"],
  ["_l", "â‚—"],
  ["_m", "â‚˜"],
  ["_n", "â‚™"],
  ["_o", "â‚’"],
  ["_p", "â‚š"],
  ["_r", "áµ£"],
  ["_s", "â‚›"],
  ["_t", "â‚œ"],
  ["_u", "áµ¤"],
  ["_v", "áµ¥"],
  ["_x", "â‚“"],
  ["_beta", "áµ¦"],
  ["_gamma", "áµ§"],
  ["_rho", "áµ¨"],
  ["_phi", "áµ©"],
  ["_xi", "áµª"],

  ["Combining Acute", "Ì"],
  ["Combining Circumflex", "Ì‚"],
  ["Combining Tilde", "Ìƒ"],
  ["Combining Grave", "Ì€"],
  ["Combining Diaeresis", "Ìˆ"],

  ["Quarter Note", "â™©"],
  ["Eigth Note", "â™ª"],
  ["Beamed Eigth Notes", "â™«"],
  ["Beamed Sixteenth Notes", "â™¬"],
  ["Flat", "â™­"],
  ["Double Flat", "ğ„«"],
  ["Natural", "â™®"],
  ["Sharp", "â™¯"],
  ["G Clef", "ğ„"],
  ["F Clef", "ğ„¢"],

  [":)", "ğŸ˜€"],
  [":P", "ğŸ˜›"],
  [";)", "ğŸ˜‰"],
  [":*", "ğŸ˜˜"],
  ["S2", "ğŸ˜"],
  [":(", "â˜¹"],
  ["shrug", "Â¯\_(ãƒ„)_/Â¯"],
  ["fliptable", "(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»"],
  ["disapproval", "à² _à² "],
].concat(emoji.ordered.map(name => [`:${name}:`, emoji.lib[name].char]));
